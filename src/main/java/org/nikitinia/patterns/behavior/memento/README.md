# Снимок (Memento)

* [К описанию проекта](https://github.com/engine-it-in/java-design-patterns)

## Тип

* Поведенческий шаблон;

## Назначение

* Хранить состояние объекта;

## Суть

* Шаблон описывает механику сохранения состояния объекта;
* Сохраненное состояние может использоваться,
  если это требуется для логики исполнения программы;
* Представьте, что Ваша система имеет возможность
  возвращаться к прошлым состояниям. Так этот поведенческий шаблон помогает
  быть бессметрной нашим системам;

## Контекст применения

* Если работа с системой предполагает необходимость
  возвращения к прошлым состояниям, которые важны для
  обеспечения ее функционирования;

## Применимость

* Сохранение объекта или его части;
* Не должно быть возможности получать состояние объекта,
  нарушая инкапсуляцию, но должна быть возможность
  использовать снимок, полученный от объекта;

## Какой функционал предоставляет

* Функционал снимка предполагает
  создание копии объекта самому объекту, владеющим своим состоянием;
* Копия хранится в специальном объекте снимке, с интерфейсом,
  который предоставляет ограниченные атрибуты объекта;
* Сам снимок должен быть открыт своему создателю,
  который может прочесть и восстановить объект при необходимости;
* Объекты хранят опекуны (caretaker), которым недоступна модификация снимка;
* Классически,реализация этого шаблона предполагает
  возможность использования внутренних классов (есть не во всех языках программирования);

## Преимущества и недостатки при использовании

| Преимущества                                                        | Недостатки                                             |
|---------------------------------------------------------------------|--------------------------------------------------------|
| Сохранение инкапсуляции исходного объекта                           | Много снимков - много ресурсов                         |
| Стуктура самого объекта не хранит историю. Это делегируется опекуну | Сложно реализуем для некоторых языков программирования |

## Алгоритм реализации

* Выделить класс создателя;
* Создать класс снимка с необходмыми полями;
* Объекты снимки должны быть неизменяемы.
  Значения получаются один раз через конструктор;
* Класс снимок должен быть вложен в класс
  создателя или доступ к объекту через интерфейс с ограниченными атрибутами;
* В класс создателя необходимо добавить методы для получения снимков;
* В классе создателе должен быть метод восстановления снимка;
* Опекуны должны знать когда запрашивать снимки,
  где хранить, когда восстанавливать;
* Опекун и создатель могут быть связаны через снимки;

# Формулировка задачи

* Создать программу, в которой будет создаваться снимок документ.
  Он должен быть доступен в в логике работы с документом.
  При этом необходимо добавить методы, которые будут хранить набор снимков документов.
  Если потребуется, то снимки документов должны быть доступны в строгой последовательности
  -> первый сделанный список, второй сделанный список, и т.д.
  Если снимков нет, то требуется возвращать ноль