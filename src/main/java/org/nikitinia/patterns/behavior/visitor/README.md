# Посетитель (Visitor)
****
* [К описанию поведенческих шаблонов](../README.md)
****

## Тип
* Поведенческий шаблон;

## Назначение
* Добавляет новые операции, которые могут исполняться над существующими 
классами не изменяя их;

## Суть
* Реализация принципа open/closed - открыт для дополнений, закрыт для изменений;

## Контекст применения
* Для ситуации, когда классы иерархии недоступны для изменения, 
но необходимо добавлять новый функционал по работе над ними;

## Применимость
* При необходимости выполнять операции над 
всеми объктами сложной структуры;
* Когда для объектов структуры надо выполнять некоторые операции, 
но нет возможности изменять сами объекты;
* Когда новое поведение должно быть доступно только для некоторых 
объектов сложной структуры;

## Какой функционал предоставляет
* Расширение поведения классов;

## Преимущества и недостатки при использовании
| Преимущества                                                         | Недостатки                                   |
|----------------------------------------------------------------------|----------------------------------------------|
| Упрощает добавление новых операций                                   | Не оправдан, если иерархия объектов меняется |
| Объединяет родственные классы в один                                 | Может привести к нарушению инкапсуляции      |
| Посетитель может накапливать состояние при обходе структуры объектов |                                              |

## Алгоритм реализации
* Создать интерфейс посетителя с методами для каждого конкретного класса;
* Реализовать методы посетителя во всех конкретных элементах;
* Иерархия элементов должна знать только о базовом интерфейсе;
* Клиент будет создавать элементы посетителей и передавать их конкретным классам;

# Формулировка задачи
* В этой задаче в качестве основного объекта будут выступать 3 обертки над классом документы. 
Обертка должна состоять из ид и самого документа.
Обертки - финансовый документ, управленческий документ и платежный документ. Над обертками необходимо реализовать 
2 типа действия - регистрацию и конвертацию. Регистрация состоит из помещения конкретной обертки 
в общий журнал регистрации. Конвертация состоит из 
* Оповещения (сообщения в консоль) в формате - ***[Тип документа] : [ид документа] convert to regular documentType***
* Помещения самого документа из класса обертки (финансовый документ, управленческий документ и платежный документ)
в List. Необходимо создать 3 обертки, ид для каждого должен быть задан в формате - 4 числа/4 числа, 
затем для всех документов необходимо провестирегистрацию и конвертацию, после этого необходимо 
распечатать текст по зарегисрированным документам в формате -
  ***"Document id : [ид документа] registered"***, в конце для всех сконвертированных документов, 
нужно установить статус SIGN, значение подписи "signatory" и распечатать их;